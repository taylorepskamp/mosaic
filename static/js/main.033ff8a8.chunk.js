(this.webpackJsonpmosaic=this.webpackJsonpmosaic||[]).push([[0],{59:function(e,a,t){e.exports=t(78)},64:function(e,a,t){},68:function(e,a,t){},78:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(10),o=t.n(r),c=(t(64),t(52)),i=t(12),s=t(42),m=t.n(s),u=(t(68),t(43)),d=t(119),p=t(51),h=t.n(p),v=t(124),E=t(121),f=t(123),b=t(122),g=t(117),y=t(120),j=t(44),x=t(125),N=t(79),O=t(114),S=Object(O.a)((function(e){return{root:{display:"flex",justifyContent:"center",flexWrap:"wrap",listStyle:"none",padding:e.spacing(.5),margin:0},chip:{margin:e.spacing(.5)}}}));var k=function(){var e=Object(n.useState)(""),a=Object(i.a)(e,2),r=a[0],o=a[1],s=Object(n.useState)(64),p=Object(i.a)(s,2),O=p[0],k=p[1],C=Object(n.useState)(1),w=Object(i.a)(C,2),I=w[0],M=w[1],A=Object(n.useRef)(null),T=Object(n.useState)(!0),z=Object(i.a)(T,2),F=z[0],W=(z[1],Object(n.useState)(600)),B=Object(i.a)(W,2),R=B[0],D=B[1],P=Object(n.useState)(!0),$=Object(i.a)(P,2),U=$[0],V=$[1],H=Object(n.useRef)(null),J=Object(n.useRef)(!0),L=Object(n.useState)([]),q=Object(i.a)(L,2),G=q[0],_=q[1],K=Object(n.useState)("#"),Q=Object(i.a)(K,2),X=Q[0],Y=Q[1],Z=S(),ee=l.a.useState([{key:"e",label:"#EEEEEE"},{key:"c",label:"#CCCCCC"},{key:"9",label:"#999999"},{key:"6",label:"#666666"},{key:"3",label:"#333333"},{key:"0",label:"#000000"}]),ae=Object(i.a)(ee,2),te=ae[0],ne=ae[1];Object(n.useEffect)((function(){J.current?J.current=!1:(D(H.current?H.current.offsetWidth:0),te.length>1?(le(),V(!1)):alert("Please add at least 2 colors"))}),[r,F,te,O,H.current]);var le=function(){var e=new Image;e.src=r,e.onload=function(){var a=A.current,n=a.getContext("2d"),l=e.naturalWidth,r=e.naturalHeight/l;M(r);var o=Math.ceil(O/1.6),c=Math.ceil(r*O/1.6),i=Math.ceil(R/o);a.width=i*o,a.height=i*c,n.drawImage(e,0,0,o,c);var s=n.getImageData(0,0,o,c);n.clearRect(0,0,o,c);for(var m=s.data,u=[],d=0;d<s.height;d++){for(var p=[],h=0;h<s.width;h++){var v=4*s.width*d+4*h,E=m[v],f=m[v+1],b=m[v+2],g="#"+[E,f,b].map((function(e){var a=e.toString(16);return 1===a.length?"0"+a:a})).join(""),y=te.map((function(e){return e.label})),j=t(73).from(y);p.push(j(g)),j(g);var x=h*i,N=d*i;n.fillStyle=j(g),n.fillRect(x,N,x+i,N+i)}u.push(p)}V(!0),_(u)}};return l.a.createElement("div",{className:"grid-container"},l.a.createElement(j.a,null,l.a.createElement("title",null,"Mozaic: A Mosiac Generator to Create and Export Tile Mosiacs"),l.a.createElement("meta",{name:"description",content:"Upload photos and easily convert them into tiled mosiacs. Choose colors to represent your tiles. Adjust the number of tiles in your mosiac. Export your design to a CSV file."})),l.a.createElement("div",{className:"uploadArea"},l.a.createElement("div",{className:"logo"},l.a.createElement(g.a,{className:"logoTitle",gutterBottom:!0,variant:"h3",component:"h3",color:"primary"},"Mozaic |"),l.a.createElement(g.a,{className:"logoDescription",gutterBottom:!0,variant:"h5",component:"h5",color:"primary"},"Create, Export Tile Mosiacs")),l.a.createElement("div",{className:"upload"},l.a.createElement(m.a,{handleFiles:function(e){var a=new Image;a.src=e.base64,o(a.src)},base64:!0},l.a.createElement(d.a,{variant:"contained",color:"primary",startIcon:l.a.createElement(h.a,null)},"Upload"))),l.a.createElement("div",{className:"inputTile"},l.a.createElement(v.a,{id:"outlined-number",label:"Tiles",type:"number",defaultValue:"40",InputLabelProps:{shrink:!0},variant:"outlined",onChange:function(e){return function(e){var a,t=parseInt(e.target.value);t>500&&alert("Please enter a number less than 500"),a=t&&e.target.value<500?t:1,k(parseFloat((1.6*a).toFixed(1)))}(e)}})),l.a.createElement("div",{className:"hexButton"},l.a.createElement(d.a,{variant:"contained",color:"primary",onClick:function(){/^#([0-9A-F]{3}){1,2}$/i.test(X)&&ne([].concat(Object(c.a)(te),[{key:X,label:X}]))}},"Add")),l.a.createElement("div",{className:"hex"},l.a.createElement(N.a,{id:"hexChild",component:"ul",className:Z.root},te.map((function(e){var a;return l.a.createElement("li",{key:e.key},l.a.createElement(x.a,{icon:l.a.createElement("input",{className:"color",type:"color",disabled:!0,value:e.label}),label:e.label,onDelete:(a=e,function(){ne((function(e){return e.filter((function(e){return e.key!==a.key}))}))}),className:Z.chip}))})))),l.a.createElement("div",{className:"inputColor"},l.a.createElement(v.a,{id:"hex",label:"Hex",name:"hex",value:X,onChange:function(e){Y(e.target.value)},error:"#"!==X&&!/^#([0-9A-F]{3}){1,2}$/i.test(X),helperText:"#"===X||/^#([0-9A-F]{3}){1,2}$/i.test(X)?" ":"Invalid hex.",variant:"outlined"}))),l.a.createElement("div",{className:"widthInfoArea"},l.a.createElement("div",{className:"widthInfo"},l.a.createElement(g.a,{variant:"body1",color:"textSecondary",component:"p"},Math.ceil(O/1.6)," tiles")),!1===U&&r?l.a.createElement(g.a,{className:"loadingInfo",variant:"body1",color:"textSecondary",component:"p"},"Tiling..."):l.a.createElement("div",null)),l.a.createElement("div",{className:"lengthInfo"},l.a.createElement("div",{className:"length"},l.a.createElement(g.a,{variant:"body1",id:"rotate-text",color:"textSecondary",component:"p"},Math.ceil(I*O/1.6)," tiles"))),l.a.createElement("div",{ref:H,className:"imgParent"},l.a.createElement(y.a,null,l.a.createElement(E.a,null,l.a.createElement("canvas",{ref:A}),l.a.createElement(b.a,null,l.a.createElement(g.a,{variant:"h6",color:"textSecondary",component:"h6"},Math.ceil(O/1.6)*Math.ceil(I*O/1.6)," tiles"),G.length>0?te.map((function(e){return l.a.createElement("div",{className:"tileCount"},l.a.createElement("input",{className:"color",type:"color",disabled:!0,value:e.label}),l.a.createElement(g.a,{variant:"p",color:"textSecondary",component:"p"},e.label,", ",G.flat().filter((function(a){return a===e.label})).length," tiles"))})):l.a.createElement(g.a,{variant:"body",color:"textSecondary",component:"p"},"Upload a photo, adjust number of tiles, remove grays, add desired hex codes."))),l.a.createElement(f.a,null,l.a.createElement(d.a,{size:"small",color:"primary"},l.a.createElement(u.CSVLink,{className:"link",data:G,filename:"mosiac.csv"},"Export")),l.a.createElement(d.a,{size:"small",color:"primary",href:"https://amzn.to/32vk1WF",target:"_blank"},"Tiles on Amazon"))),l.a.createElement(g.a,{variant:"body2",color:"textSecondary",className:"affiliate",component:"p"},"Disclosure: As an Amazon Associate, I would earn from qualifying purchases.")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[59,1,2]]]);
//# sourceMappingURL=main.033ff8a8.chunk.js.map