(this.webpackJsonpmosaic=this.webpackJsonpmosaic||[]).push([[0],{66:function(e,t,a){e.exports=a(85)},71:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(10),o=a.n(l),c=(a(71),a(57)),i=a(12),s=a(46),m=a.n(s),u=(a(75),a(76),a(47)),d=a(127),h=a(56),p=a.n(h),f=a(133),v=a(130),b=a(132),g=a(131),E=a(86),y=a(129),j=a(48),O=a(135),x=a(87),S=a(123),w=a(128),N=a(134),k=a(51),M=Object(S.a)((function(e){return{root:{display:"flex",justifyContent:"center",flexWrap:"wrap",listStyle:"none",padding:e.spacing(.5),margin:0},chip:{margin:e.spacing(.5)}}}));var C=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),l=t[0],o=t[1],s=Object(n.useState)(64),h=Object(i.a)(s,2),S=h[0],C=h[1],I=Object(n.useState)(1),A=Object(i.a)(I,2),z=A[0],T=A[1],W=Object(n.useRef)(null),F=Object(n.useState)(800),P=Object(i.a)(F,2),R=P[0],D=P[1],U=Object(n.useState)(!0),B=Object(i.a)(U,2),V=B[0],$=B[1],H=Object(n.useRef)(null),L=Object(n.useRef)(!0),J=Object(n.useState)([]),_=Object(i.a)(J,2),q=_[0],G=_[1],K=Object(n.useState)("#"),Q=Object(i.a)(K,2),X=Q[0],Y=Q[1],Z=M(),ee=Object(n.useState)([]),te=Object(i.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(5),le=Object(i.a)(re,2),oe=le[0],ce=le[1],ie=Object(n.useState)(!1),se=Object(i.a)(ie,2),me=se[0],ue=se[1];return Object(n.useEffect)((function(){L.current?L.current=!1:me||function(){if(D(H.current?H.current.offsetWidth:0),oe>1){$(!1);var e=new Image;e.src=l,e.onload=function(){var t=(new k.a).getPalette(e,oe).map((function(e){return"#"+e.map((function(e){var t=e.toString(16);return 1===t.length?"0"+t:t})).join("")})),n=t.map((function(e){return{key:Math.floor(Math.random()*Math.floor(1e5)),label:e.toUpperCase()}})),r=W.current,l=r.getContext("2d"),o=e.naturalWidth,c=e.naturalHeight/o;T(c);var i=Math.ceil(S/1.6),s=Math.ceil(c*S/1.6),m=Math.ceil(R/i);r.width=m*i,r.height=m*s,l.drawImage(e,0,0,i,s);var u=l.getImageData(0,0,i,s);l.clearRect(0,0,i,s);for(var d=u.data,h=[],p=0;p<u.height;p++){for(var f=[],v=0;v<u.width;v++){var b=4*u.width*p+4*v,g="#"+[d[b],d[b+1],d[b+2]].map((function(e){var t=e.toString(16);return 1===t.length?"0"+t:t})).join(""),E=a(43).from(t),y=v*m,j=p*m;l.fillStyle=E(g),l.fillRect(y,j,y+m,j+m),f.push(E(g))}h.push(f)}ne(n),G(h),$(!0)}}}()}),[l,oe,S,R,me]),Object(n.useEffect)((function(){L.current?L.current=!1:me&&function(){if(D(H.current?H.current.offsetWidth:0),ae.length>1){$(!1),console.log(V);var e=new Image;e.src=l,e.onload=function(){var t=W.current,n=t.getContext("2d"),r=e.naturalWidth,l=e.naturalHeight/r;T(l);var o=Math.ceil(S/1.6),c=Math.ceil(l*S/1.6),i=Math.ceil(R/o);t.width=i*o,t.height=i*c,n.drawImage(e,0,0,o,c);var s=n.getImageData(0,0,o,c);n.clearRect(0,0,o,c);for(var m=s.data,u=[],d=0;d<s.height;d++){for(var h=[],p=0;p<s.width;p++){var f=4*s.width*d+4*p,v="#"+[m[f],m[f+1],m[f+2]].map((function(e){var t=e.toString(16);return 1===t.length?"0"+t:t})).join(""),b=ae.map((function(e){return e.label})),g=a(43).from(b),E=p*i,y=d*i;n.fillStyle=g(v),n.fillRect(E,y,E+i,y+i),h.push(g(v))}u.push(h)}$(!0),G(u)}}else alert("Please add at least two colors")}()}),[l,S,R,me,ae]),r.a.createElement("div",{className:"grid-container"},r.a.createElement(j.a,null,r.a.createElement("title",null,"Mozaic: A Mosiac Generator to Create and Export Tile Mosiacs"),r.a.createElement("meta",{name:"description",content:"Upload photos and easily convert them into tiled mosiacs. Choose colors to represent your tiles. Adjust the number of tiles in your mosiac. Export your design to a CSV file."})),r.a.createElement("div",{className:"uploadArea"},r.a.createElement("div",{className:"logo"},r.a.createElement(E.a,{className:"logoTitle",gutterBottom:!0,variant:"h3",component:"h3",color:"primary"},"Mozaic |"),r.a.createElement(E.a,{className:"logoDescription",gutterBottom:!0,variant:"h5",component:"h5",color:"primary"},"Create, Export Tile Mosiacs")),r.a.createElement("div",{className:"upload"},r.a.createElement(m.a,{handleFiles:function(e){var t=new Image;t.src=e.base64,o(t.src)},base64:!0},r.a.createElement(d.a,{variant:"contained",color:"primary",startIcon:r.a.createElement(p.a,null)},"Upload"))),r.a.createElement("div",{className:"toggle"},r.a.createElement(w.a,{control:r.a.createElement(N.a,{checked:me,onChange:function(){ue(!me)},name:"checkedA"}),label:me?"Edit Color":"Auto Color"})),!me&&r.a.createElement("div",{className:"position2"},r.a.createElement(f.a,{id:"outlined-number",label:"Colors",type:"number",defaultValue:"5",InputLabelProps:{shrink:!0},variant:"outlined",onChange:function(e){return function(e){var t=parseInt(e.target.value);t>0?ce(t):alert("Please enter a number greater than 1")}(e)}})),r.a.createElement("div",{className:"inputTile"},r.a.createElement(f.a,{id:"outlined-number",label:"Tiles",type:"number",defaultValue:"40",InputLabelProps:{shrink:!0},variant:"outlined",onChange:function(e){return function(e){var t,a=parseInt(e.target.value);a>=500&&alert("Please enter a number less than 500"),t=a<500&&a>0?a:1,C(parseFloat((1.6*t).toFixed(1)))}(e)}})),me&&r.a.createElement("div",{className:"position1"},r.a.createElement(f.a,{id:"hex",label:"Hex",name:"hex",value:X,onChange:function(e){Y(e.target.value)},error:"#"!==X&&!/^#([0-9A-F]{3}){1,2}$/i.test(X),helperText:"#"===X||/^#([0-9A-F]{3}){1,2}$/i.test(X)?" ":"Invalid hex.",variant:"outlined"})),me&&r.a.createElement("div",{className:"position2"},r.a.createElement(d.a,{variant:"contained",color:"primary",onClick:function(){if(/^#([0-9A-F]{3}){1,2}$/i.test(X)){var e=Math.floor(1e8*Math.random());ne([].concat(Object(c.a)(ae),[{key:e,label:X}]))}}},"Add")),r.a.createElement("div",{className:"hex"},r.a.createElement(x.a,{id:"hexChild",component:"ul",className:Z.root},ae.map((function(e){return r.a.createElement("li",{key:e.key},r.a.createElement(O.a,{icon:r.a.createElement("input",{className:"color",type:"color",disabled:!0,value:e.label}),label:e.label,onDelete:me?(t=e,function(){ne((function(e){return e.filter((function(e){return e.key!==t.key}))}))}):null,className:Z.chip}));var t}))))),r.a.createElement("div",{className:"widthInfoArea"},!V&&l?r.a.createElement(E.a,{className:"loadingInfo",variant:"body1",color:"textSecondary",component:"p"},"Tiling..."):r.a.createElement("div",null),r.a.createElement("div",{className:"widthInfo"},r.a.createElement(E.a,{variant:"body1",color:"textSecondary",component:"p"},Math.ceil(S/1.6)," tiles"))),r.a.createElement("div",{className:"lengthInfo"},r.a.createElement("div",{className:"length"},r.a.createElement(E.a,{variant:"body1",id:"rotate-text",color:"textSecondary",component:"p"},Math.ceil(z*S/1.6)," tiles"))),r.a.createElement("div",{ref:H,className:"imgParent"},r.a.createElement(y.a,null,r.a.createElement(v.a,null,r.a.createElement("canvas",{ref:W}),r.a.createElement(g.a,null,r.a.createElement(E.a,{variant:"h6",color:"textSecondary",component:"h6"},Math.ceil(S/1.6)*Math.ceil(z*S/1.6)," tiles"),q.length>0?ae.map((function(e){return r.a.createElement("div",{key:e.key,className:"tileCount"},r.a.createElement("input",{className:"color",type:"color",disabled:!0,value:e.label}),r.a.createElement(E.a,{variant:"body1",color:"textSecondary",component:"p"},e.label,", ",q.flat().filter((function(t){return t.toUpperCase()===e.label})).length," tiles"))})):r.a.createElement(E.a,{variant:"body1",color:"textSecondary",component:"p"},"Upload a photo, adjust number of tiles, remove grays, add desired hex codes."))),r.a.createElement(b.a,null,r.a.createElement(d.a,{size:"small",color:"primary"},r.a.createElement(u.CSVLink,{className:"link",data:q,filename:"mosiac.csv"},"Export")),r.a.createElement(d.a,{size:"small",color:"primary",href:"https://amzn.to/32vk1WF",target:"_blank"},"Tiles on Amazon"),r.a.createElement(d.a,{size:"small",color:"primary",href:"https://taylorepskamp.github.io/diceify/",target:"_blank"},"Dice Mosaic App"))),r.a.createElement(E.a,{variant:"body2",color:"textSecondary",className:"affiliate",component:"p"},"Disclosure: As an Amazon Associate, I would earn from qualifying purchases.")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[66,1,2]]]);
//# sourceMappingURL=main.2c79be53.chunk.js.map