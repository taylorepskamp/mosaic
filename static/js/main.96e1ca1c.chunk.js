(this.webpackJsonpmosaic=this.webpackJsonpmosaic||[]).push([[0],{59:function(e,a,t){e.exports=t(79)},64:function(e,a,t){},68:function(e,a,t){},69:function(e,a,t){},79:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(10),o=t.n(r),c=(t(64),t(52)),i=t(12),s=t(42),m=t.n(s),u=(t(68),t(69),t(43)),d=t(120),p=t(51),h=t.n(p),f=t(125),E=t(122),v=t(124),b=t(123),y=t(118),g=t(121),x=t(44),j=t(126),k=t(80),N=t(115),S=Object(N.a)((function(e){return{root:{display:"flex",justifyContent:"center",flexWrap:"wrap",listStyle:"none",padding:e.spacing(.5),margin:0},chip:{margin:e.spacing(.5)}}}));var O=function(){var e=Object(n.useState)(""),a=Object(i.a)(e,2),r=a[0],o=a[1],s=Object(n.useState)(64),p=Object(i.a)(s,2),N=p[0],O=p[1],C=Object(n.useState)(1),w=Object(i.a)(C,2),M=w[0],I=w[1],A=Object(n.useRef)(null),z=Object(n.useState)(800),T=Object(i.a)(z,2),F=T[0],W=T[1],R=Object(n.useState)(!0),B=Object(i.a)(R,2),D=B[0],P=B[1],$=Object(n.useRef)(null),U=Object(n.useRef)(!0),V=Object(n.useState)([]),H=Object(i.a)(V,2),J=H[0],L=H[1],_=Object(n.useState)("#"),q=Object(i.a)(_,2),G=q[0],K=q[1],Q=S(),X=l.a.useState([{key:"e",label:"#EEEEEE"},{key:"c",label:"#CCCCCC"},{key:"9",label:"#999999"},{key:"6",label:"#666666"},{key:"3",label:"#333333"},{key:"0",label:"#000000"}]),Y=Object(i.a)(X,2),Z=Y[0],ee=Y[1];return Object(n.useEffect)((function(){if(U.current)U.current=!1;else if(W($.current?$.current.offsetWidth:0),Z.length>=2){P(!1);var e=new Image;e.src=r,e.onload=function(){var a=A.current,n=a.getContext("2d"),l=e.naturalWidth,r=e.naturalHeight/l;I(r);var o=Math.ceil(N/1.6),c=Math.ceil(r*N/1.6);console.log(F);var i=Math.ceil(F/o);a.width=i*o,a.height=i*c,n.drawImage(e,0,0,o,c);var s=n.getImageData(0,0,o,c);n.clearRect(0,0,o,c);for(var m=s.data,u=[],d=0;d<s.height;d++){for(var p=[],h=0;h<s.width;h++){var f=4*s.width*d+4*h,E="#"+[m[f],m[f+1],m[f+2]].map((function(e){var a=e.toString(16);return 1===a.length?"0"+a:a})).join(""),v=Z.map((function(e){return e.label})),b=t(74).from(v),y=h*i,g=d*i;n.fillStyle=b(E),n.fillRect(y,g,y+i,g+i),n.strokeStyle="#999999",n.lineWidth=1,n.strokeRect(y,g,y+i,g+i),p.push(b(E))}u.push(p)}P(!0),L(u)}}else alert("Please add at least 2 colors")}),[r,Z,N,F]),l.a.createElement("div",{className:"grid-container"},l.a.createElement(x.a,null,l.a.createElement("title",null,"Mozaic: A Mosiac Generator to Create and Export Tile Mosiacs"),l.a.createElement("meta",{name:"description",content:"Upload photos and easily convert them into tiled mosiacs. Choose colors to represent your tiles. Adjust the number of tiles in your mosiac. Export your design to a CSV file."})),l.a.createElement("div",{className:"uploadArea"},l.a.createElement("div",{className:"logo"},l.a.createElement(y.a,{className:"logoTitle",gutterBottom:!0,variant:"h3",component:"h3",color:"primary"},"Mozaic |"),l.a.createElement(y.a,{className:"logoDescription",gutterBottom:!0,variant:"h5",component:"h5",color:"primary"},"Create, Export Tile Mosiacs")),l.a.createElement("div",{className:"upload"},l.a.createElement(m.a,{handleFiles:function(e){var a=new Image;a.src=e.base64,o(a.src)},base64:!0},l.a.createElement(d.a,{variant:"contained",color:"primary",startIcon:l.a.createElement(h.a,null)},"Upload"))),l.a.createElement("div",{className:"inputTile"},l.a.createElement(f.a,{id:"outlined-number",label:"Tiles",type:"number",defaultValue:"40",InputLabelProps:{shrink:!0},variant:"outlined",onChange:function(e){return function(e){var a,t=parseInt(e.target.value);t>500&&alert("Please enter a number less than 500"),a=t&&e.target.value<500?t:1,O(parseFloat((1.6*a).toFixed(1)))}(e)}})),l.a.createElement("div",{className:"hexButton"},l.a.createElement(d.a,{variant:"contained",color:"primary",onClick:function(){if(/^#([0-9A-F]{3}){1,2}$/i.test(G)){var e=Math.floor(1e8*Math.random());ee([].concat(Object(c.a)(Z),[{key:e,label:G}]))}}},"Add")),l.a.createElement("div",{className:"hex"},l.a.createElement(k.a,{id:"hexChild",component:"ul",className:Q.root},Z.map((function(e){return l.a.createElement("li",{key:e.key},l.a.createElement(j.a,{icon:l.a.createElement("input",{className:"color",type:"color",disabled:!0,value:e.label}),label:e.label,onDelete:(a=e,function(){ee((function(e){return e.filter((function(e){return e.key!==a.key}))}))}),className:Q.chip}));var a})))),l.a.createElement("div",{className:"inputColor"},l.a.createElement(f.a,{id:"hex",label:"Hex",name:"hex",value:G,onChange:function(e){K(e.target.value)},error:"#"!==G&&!/^#([0-9A-F]{3}){1,2}$/i.test(G),helperText:"#"===G||/^#([0-9A-F]{3}){1,2}$/i.test(G)?" ":"Invalid hex.",variant:"outlined"}))),l.a.createElement("div",{className:"widthInfoArea"},l.a.createElement("div",{className:"widthInfo"},l.a.createElement(y.a,{variant:"body1",color:"textSecondary",component:"p"},Math.ceil(N/1.6)," tiles")),!1===D&&r?l.a.createElement(y.a,{className:"loadingInfo",variant:"body1",color:"textSecondary",component:"p"},"Tiling..."):l.a.createElement("div",null)),l.a.createElement("div",{className:"lengthInfo"},l.a.createElement("div",{className:"length"},l.a.createElement(y.a,{variant:"body1",id:"rotate-text",color:"textSecondary",component:"p"},Math.ceil(M*N/1.6)," tiles"))),l.a.createElement("div",{ref:$,className:"imgParent"},l.a.createElement(g.a,null,l.a.createElement(E.a,null,l.a.createElement("canvas",{ref:A}),l.a.createElement(b.a,null,l.a.createElement(y.a,{variant:"h6",color:"textSecondary",component:"h6"},Math.ceil(N/1.6)*Math.ceil(M*N/1.6)," tiles"),J.length>0?Z.map((function(e){return l.a.createElement("div",{className:"tileCount"},l.a.createElement("input",{className:"color",type:"color",disabled:!0,value:e.label}),l.a.createElement(y.a,{variant:"p",color:"textSecondary",component:"p"},e.label,", ",J.flat().filter((function(a){return a===e.label})).length," tiles"))})):l.a.createElement(y.a,{variant:"body1",color:"textSecondary",component:"p"},"Upload a photo, adjust number of tiles, remove grays, add desired hex codes."))),l.a.createElement(v.a,null,l.a.createElement(d.a,{size:"small",color:"primary"},l.a.createElement(u.CSVLink,{className:"link",data:J,filename:"mosiac.csv"},"Export")),l.a.createElement(d.a,{size:"small",color:"primary",href:"https://amzn.to/32vk1WF",target:"_blank"},"Tiles on Amazon"),l.a.createElement(d.a,{size:"small",color:"primary",href:"https://taylorepskamp.github.io/diceify/",target:"_blank"},"Dice Mosaic App"))),l.a.createElement(y.a,{variant:"body2",color:"textSecondary",className:"affiliate",component:"p"},"Disclosure: As an Amazon Associate, I would earn from qualifying purchases.")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[59,1,2]]]);
//# sourceMappingURL=main.96e1ca1c.chunk.js.map